@model Prog_POE.Models.User
@{
    ViewData["Title"] = "My Profile";
}
<div class="container-fluid py-4">
    <!-- Page header with title and edit button -->
    <div class="row mb-4">
        <div class="col-md-8">
            <h1 class="display-5"><i class="bi bi-person-fill text-success me-3"></i>My Profile</h1>
            <p class="lead">View and manage your account information.</p>
        </div>
        <div class="col-md-4 text-end align-self-center">
            <a asp-action="Edit" class="btn btn-success">
                <i class="bi bi-pencil-square me-2"></i>Edit Profile
            </a>
        </div>
    </div>

    <!-- Success message notification -->
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="bi bi-check-circle-fill me-2"></i> @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div class="row">
        <!-- Personal information card -->
        <div class="col-md-5">
            <div class="card shadow h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0"><i class="bi bi-info-circle me-2"></i>Personal Information</h5>
                </div>
                <div class="card-body">
                    <!-- User avatar and basic info -->
                    <div class="text-center mb-4">
                        <div class="avatar bg-success text-white rounded-circle d-inline-flex justify-content-center align-items-center" style="width: 100px; height: 100px; font-size: 40px;">
                            @Model.FirstName[0]@Model.LastName[0]
                        </div>
                        <h3 class="mt-3">@Model.FirstName @Model.LastName</h3>
                        <p class="text-muted">
                            <i class="bi bi-envelope me-2"></i>@Model.Email
                        </p>
                    </div>

                    <!-- Account details section -->
                    <h5 class="border-bottom pb-2">Account Details</h5>
                    <dl class="row">
                        <dt class="col-sm-4">Username:</dt>
                        <dd class="col-sm-8">@Model.Username</dd>
                        <dt class="col-sm-4">Role:</dt>
                        <dd class="col-sm-8">@Model.Role</dd>
                    </dl>
                </div>
            </div>
        </div>

        <!-- Farm information card -->
        <div class="col-md-7">
            <div class="card shadow h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="bi bi-house-fill me-2"></i>Farm Information</h5>
                </div>
                <div class="card-body">
                    <!-- Farm details -->
                    <h4 class="mb-3">@Model.FarmName</h4>
                    <p><i class="bi bi-geo-alt-fill text-primary me-2"></i>@Model.FarmLocation</p>

                    <!-- Farm description -->
                    <h5 class="border-bottom pb-2 mt-4">Description</h5>
                    <p>@(Model.FarmDescription ?? "No farm description provided.")</p>

                    <!-- Link to farmer's products -->
                    <div class="d-grid gap-2 mt-4">
                        <a asp-controller="Products" asp-action="MyProducts" class="btn btn-outline-primary">
                            <i class="bi bi-basket-fill me-2"></i>View My Products
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>